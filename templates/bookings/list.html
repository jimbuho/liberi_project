{% extends 'base.html' %}

{% block title %}Mis Reservas - Liberi{% endblock %}

{% block content %}
<div class="container mt-4 mb-5">
    <h2 class="mb-4">
        <i class="fas fa-calendar-check"></i> Mis Reservas
    </h2>

    <!-- Filters/Tabs -->
    <ul class="nav nav-tabs mb-4" id="bookingTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="all-tab" data-bs-toggle="tab" 
                    data-bs-target="#all" type="button">
                Todas <span class="badge bg-secondary">{{ bookings|length }}</span>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="pending-tab" data-bs-toggle="tab" 
                    data-bs-target="#pending" type="button">
                Pendientes <span class="badge bg-warning">{{ pending_count }}</span>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="accepted-tab" data-bs-toggle="tab" 
                    data-bs-target="#accepted" type="button">
                Aceptadas <span class="badge bg-info">{{ accepted_count }}</span>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="completed-tab" data-bs-toggle="tab" 
                    data-bs-target="#completed" type="button">
                Completadas <span class="badge bg-success">{{ completed_count }}</span>
            </button>
        </li>
    </ul>

    <div class="tab-content" id="bookingTabsContent">
        <div class="tab-pane fade show active" id="all" role="tabpanel">
            {% include 'bookings/_booking_list.html' with bookings=bookings %}
        </div>
        <div class="tab-pane fade" id="pending" role="tabpanel">
            {% include 'bookings/_booking_list.html' with bookings=pending_bookings %}
        </div>
        <div class="tab-pane fade" id="accepted" role="tabpanel">
            {% include 'bookings/_booking_list.html' with bookings=accepted_bookings %}
        </div>
        <div class="tab-pane fade" id="completed" role="tabpanel">
            {% include 'bookings/_booking_list.html' with bookings=completed_bookings %}
        </div>
    </div>
</div>
{% endblock %}