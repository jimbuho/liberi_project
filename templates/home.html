{% extends 'base.html' %}

{% block title %}Liberi - Servicios a Domicilio{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">Servicios a Domicilio</h1>
            <p class="hero-subtitle">
                Servicios verificados, confiables, dónde y cuándo los necesites
            </p>
            <div class="hero-buttons">
                <a href="{% url 'services_list' %}" class="btn-hero btn-hero-primary">
                    <i class="fas fa-search"></i>
                    Buscar Servicios
                </a>
                <a href="{% url 'register_provider' %}" class="btn-hero btn-hero-secondary">
                    <i class="fas fa-briefcase"></i>
                    Ser Proveedor
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Search Section -->
<section class="search-section">
    <div class="container">
        <div class="search-card">
            <form action="{% url 'services_list' %}" method="get" class="search-form">
                <input 
                    type="text" 
                    name="q" 
                    class="search-input" 
                    placeholder="¿Qué servicio necesitas? Ej: Manicure, Limpieza de hogar..."
                >
                <button type="submit" class="btn-search">
                    <i class="fas fa-search me-2"></i>Buscar
                </button>
            </form>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section">
    <div class="container">
        <h2 class="section-title">Categorías</h2>
        <div class="categories-grid-compact">
            {% for category in categories %}
            <div class="category-card-compact">
                <span class="category-icon-compact">{{ category.icon }}</span>
                <h4 class="category-name-compact">{{ category.name }}</h4>
                <p class="category-description-compact">
                    {{ category.description|truncatewords:12 }}
                </p>
                <a href="{% url 'services_list' %}?category={{ category.id }}" class="btn-category-compact">
                    Ver Servicios <i class="fas fa-arrow-right ms-1"></i>
                </a>
            </div>
            {% empty %}
            <div class="col-12 text-center py-5">
                <i class="fas fa-info-circle text-muted" style="font-size: 3rem;"></i>
                <p class="text-muted mt-3">
                    Pronto tendremos categorías disponibles
                </p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Featured Services -->
<section class="services-section">
    <div class="container">
        <h2 class="section-title">Servicios Destacados</h2>
        <div class="services-grid">
            {% if featured_services %}
                {% for service in featured_services %}
                <div class="service-card">
                    <div class="service-image">
                        {% if service.image %}
                            <img src="{{ service.image.url }}" alt="{{ service.name }}">
                        {% endif %}
                    </div>
                    <div class="service-body">
                        <div class="service-provider">
                            <i class="fas fa-user-circle"></i>
                            <span>{{ service.provider.get_full_name|default:service.provider.username }}</span>
                        </div>
                        <h3 class="service-title">{{ service.name }}</h3>
                        <p class="service-description">
                            {{ service.description|truncatewords:20 }}
                        </p>
                        <div class="service-meta">
                            <div>
                                <div class="service-price">${{ service.base_price }}</div>
                                <div class="service-duration">
                                    <i class="far fa-clock me-1"></i>
                                    {{ service.duration_minutes }} min
                                </div>
                            </div>
                        </div>
                        <a href="{% url 'service_detail' service.service_code %}" class="btn-book">
                            Ver Detalles
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-12 text-center py-5">
                    <i class="fas fa-info-circle text-muted" style="font-size: 3rem;"></i>
                    <p class="text-muted mt-3">
                        Pronto tendremos servicios destacados disponibles
                    </p>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- How It Works Section - MEJORADO CON 4 PASOS -->
<section class="how-it-works-section py-5 bg-light">
    <div class="container">
        <h2 class="section-title">¿Cómo Funciona?</h2>
        <div class="row mt-5">
            <div class="col-md-3 text-center mb-4">
                <div class="step-icon">
                    <i class="fas fa-search fa-3x text-primary mb-3"></i>
                </div>
                <h4>1. Busca</h4>
                <p class="text-muted">
                    Encuentra el servicio que necesitas entre nuestra amplia oferta de profesionales verificados
                </p>
            </div>
            <div class="col-md-3 text-center mb-4">
                <div class="step-icon">
                    <i class="fas fa-calendar-check fa-3x text-primary mb-3"></i>
                </div>
                <h4>2. Reserva</h4>
                <p class="text-muted">
                    Selecciona fecha y hora que mejor te convenga y confirma tu reserva
                </p>
            </div>
            <div class="col-md-3 text-center mb-4">
                <div class="step-icon">
                    <i class="fas fa-credit-card fa-3x text-primary mb-3"></i>
                </div>
                <h4>3. Paga</h4>
                <p class="text-muted">
                    Realiza el pago de forma segura con tarjeta o transferencia bancaria
                </p>
            </div>
            <div class="col-md-3 text-center mb-4">
                <div class="step-icon">
                    <i class="fas fa-home fa-3x text-primary mb-3"></i>
                </div>
                <h4>4. Disfruta</h4>
                <p class="text-muted">
                    Recibe el servicio en tu hogar con total garantía de calidad
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Payment Methods Section - NUEVA SECCIÓN -->
<section class="payment-methods-section py-5">
    <div class="container">
        <h2 class="section-title">Métodos de Pago Seguros</h2>
        <p class="text-center text-muted mb-5">Aceptamos múltiples formas de pago para tu comodidad</p>
        
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="d-flex justify-content-around align-items-center flex-wrap gap-5 payment-methods-grid">
                    <!-- Tarjetas de Crédito -->
                    <div class="text-center payment-method-item">
                        <div class="payment-method-icon mb-3">
                            <i class="fas fa-credit-card fa-3x text-primary"></i>
                        </div>
                        <h5 class="mb-3">Tarjetas de Crédito</h5>
                        <div class="d-flex gap-2 justify-content-center mb-3 flex-wrap">
                            <!-- Visa -->
                            <svg class="payment-logo-small" viewBox="0 0 48 32" xmlns="http://www.w3.org/2000/svg" title="Visa">
                                <rect width="48" height="32" rx="4" fill="#1A1F71"/>
                                <text x="24" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">VISA</text>
                            </svg>
                            
                            <!-- Mastercard -->
                            <svg class="payment-logo-small" viewBox="0 0 48 32" xmlns="http://www.w3.org/2000/svg" title="Mastercard">
                                <rect width="48" height="32" rx="4" fill="white" stroke="#CCCCCC"/>
                                <circle cx="18" cy="16" r="8" fill="#EB001B"/>
                                <circle cx="30" cy="16" r="8" fill="#F79E1B"/>
                                <circle cx="24" cy="16" r="5" fill="none" stroke="#FF5F00" stroke-width="1"/>
                            </svg>
                            
                            <!-- American Express -->
                            <svg class="payment-logo-small" viewBox="0 0 48 32" xmlns="http://www.w3.org/2000/svg" title="American Express">
                                <rect width="48" height="32" rx="4" fill="#006FCF"/>
                                <text x="24" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">AMEX</text>
                            </svg>
                            
                            <!-- Diners Club -->
                            <svg class="payment-logo-small" viewBox="0 0 48 32" xmlns="http://www.w3.org/2000/svg" title="Diners Club">
                                <rect width="48" height="32" rx="4" fill="white" stroke="#CCCCCC"/>
                                <circle cx="16" cy="16" r="7" fill="#0079BE"/>
                                <circle cx="32" cy="16" r="7" fill="#E31937"/>
                            </svg>
                        </div>
                        <p class="text-muted small">Vía PayPhone</p>
                    </div>
                    
                    <div style="width: 1px; height: 80px; background: #e0e0e0;"></div>
                    
                    <!-- Transferencia Bancaria -->
                    <div class="text-center payment-method-item">
                        <div class="payment-method-icon mb-3">
                            <i class="fas fa-university fa-3x text-primary"></i>
                        </div>
                        <h5 class="mb-3">Transferencia Bancaria</h5>
                        <p class="text-muted small">Acceso directo desde tu banco</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-5">
            <div class="col-12">
                <div class="alert alert-info alert-dismissible fade show border-0 shadow-sm" role="alert">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-lock me-3" style="font-size: 1.5rem;"></i>
                        <div>
                            <strong>100% Seguro:</strong> Tus datos de pago están protegidos con tecnología de encriptación de nivel bancario. Nunca compartimos ni almacenamos tu información sensible.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5" style="background: linear-gradient(135deg, #5DADE2 0%, #48C9B0 100%);">
    <div class="container text-center text-white">
        <h2 class="mb-4">¿Eres un Profesional?</h2>
        <p class="lead mb-4">
            Únete a nuestra plataforma y conecta con clientes que necesitan tus servicios
        </p>
        <a href="{% url 'register_provider' %}" class="btn btn-light btn-lg">
            Registrarse como Proveedor <i class="fas fa-arrow-right"></i>
        </a>
    </div>
</section>
{% endblock %}